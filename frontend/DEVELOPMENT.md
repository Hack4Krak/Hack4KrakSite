# `frontend`

Technical documentation for Hack4Krak frontend.

## üõ´ Requirements

- [Bun](https://bun.sh/) used only as a package manager

## üõñ Architecture

- [`app/`](app/) - Nuxt 3 frontend application
- [`openapi/`](openapi/) - OpenAPI specification generated by our backend used to generate type safe fetch methods
- [`public/`](public/) - Static files served by Nuxt
- [`tests/`](tests/) - Integration & unit tests for our frontend

## üèóÔ∏è Running

1. First, make sure all environment variables are configured properly.
   For basic development purposes you can just copy [`.env.example`](../.env.example) as `.env`

2. Install all packages

   ```shell
   bun install
   ```

3. Start development server

   ```shell
   # From our project root directory
   bun backend:dev
   ```

   ```shell
   # From frontend directory
   bun dev
   ```

## üß™ Testing

### Simple tests

For simple tests you can use this command. It will use `@nuxt/test-utils` and `vitest` as test runner

```shell
# Run normal tests
bun run test
```

```shell
# Run tests with hot reloading
bun test:dev
```

### e2e

But for some more complex behavior we use [`playwright`](https://playwright.dev/) for e2e tests.
They should be placed in [`tests/e2e`](tests/e2e) directory.

> [!NOTE]
> Before running any e2e tests navigate to the frontend directory using command `cd frontend/`.

```shell
# Run playwright tests
bun e2e
```

It comes with a lot of awesome commands like

```shell
# Run tests in Playwright UI, with options to monitor console, screenshots, etc.
bun e2e:ui
```

```shell
# Generate tests based on interaction with website
bun e2e:codegen
```

## üå∏ Other commands

```shell
# Run linter and formatter
bun lint:fix
```

```shell
# Verify TypeScript definitions
bun typecheck
```

## ‚öôÔ∏è Configuring your IDE

**Recommended IDE: RustRover**\
RustRover offers excellent Rust support, smooth integration with frontend tooling, and customizable plugins that enhance productivity.

**Tailwind CSS Plugin (RustRover)**\
To enable Tailwind class suggestions - especially in `:ui` fields - install the Tailwind CSS plugin in RustRover and ensure your tailwind.config file is properly configured. Once set up, you'll get full IntelliSense support for Tailwind classes across your frontend code.

**You can use the config provided below:**

```json
{
  "includeLanguages": {
    "ftl": "html",
    "jinja": "html",
    "jinja2": "html",
    "smarty": "html",
    "tmpl": "gohtml",
    "cshtml": "html",
    "vbhtml": "html",
    "razor": "html"
  },
  "files": {
    "exclude": [
      "**/.git/**",
      "**/node_modules/**",
      "**/.hg/**",
      "**/.svn/**"
    ]
  },
  "emmetCompletions": false,
  "classAttributes": ["class", "className", "ngClass", "ui"],
  "colorDecorators": true,
  "showPixelEquivalents": true,
  "rootFontSize": 16,
  "hovers": true,
  "suggestions": true,
  "codeActions": true,
  "validate": true,
  "lint": {
    "invalidScreen": "error",
    "invalidVariant": "error",
    "invalidTailwindDirective": "error",
    "invalidApply": "error",
    "invalidConfigPath": "error",
    "cssConflict": "warning",
    "recommendedVariantOrder": "warning"
  },
  "experimental": {
    "configFile": null,
    "classRegex": [
      ["([\"'`][^\"'`]*.*?[\"'`])", "[\"'`]([^\"'`]*).*?[\"'`]"],
      ["ui:\\s*{([^)]*)\\s*}", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
    ]
  }
}
```
